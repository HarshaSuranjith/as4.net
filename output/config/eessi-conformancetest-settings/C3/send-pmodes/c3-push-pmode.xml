<?xml version="1.0" encoding="utf-8"?>
<PMode 
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
  xmlns:xsd="http://www.w3.org/2001/XMLSchema" 
  xmlns="eu:edelivery:as4:pmode">
  <Id>c3-push-pmode</Id>
  <Mep>OneWay</Mep>
  <MepBinding>Push</MepBinding>
  <PushConfiguration>
    <Protocol>
      <Url>https://eessidev09.eessi.be/EESSI/BusinessMessaging/v0.0/Outbox/Service.svc</Url>
    </Protocol>
    <TlsConfiguration>
      <IsEnabled>true</IsEnabled>
      <TlsVersion>Tls12</TlsVersion>
      <ClientCertificateReference>
        <ClientCertificateFindType>InstitutionBE.westeurope.cloudapp.azure.com_TLS_int</ClientCertificateFindType>
        <ClientCertificateFindValue>FindByFriendlyName</ClientCertificateFindValue>
      </ClientCertificateReference>
    </TlsConfiguration>
  </PushConfiguration>
  <Security>
    <Signing>
      <IsEnabled>true</IsEnabled>
      <KeyReferenceMethod>BSTReference</KeyReferenceMethod>
      <PrivateKeyFindValue>InstitutionBE.westeurope.cloudapp.azure.com_ebMS_sig</PrivateKeyFindValue>
      <PrivateKeyFindType>FindByFriendlyName</PrivateKeyFindType>
      <Algorithm>http://www.w3.org/2001/04/xmldsig-more#rsa-sha256</Algorithm>
      <HashFunction>http://www.w3.org/2001/04/xmlenc#sha256</HashFunction>
    </Signing>
  </Security>
  <MessagePackaging>
    <CollaborationInfo>
      <Service>
        <Type>urn:eu:europa:ec:dgempl:eessi</Type>
        <Value>BusinessMessaging</Value>
      </Service>
      <Action>Send</Action>
    </CollaborationInfo>
    <PartyInfo>
      <FromParty>
        <PartyIds>
          <PartyId>
            <Id>UK:UK010</Id>
            <Type>urn:eu:europa:ec:dgempl:eessi:ir</Type>
          </PartyId>
        </PartyIds>
        <Role>urn:eu:europa:ec:dgempl:eessi:ir:institution</Role>
      </FromParty>
      <ToParty>
        <PartyIds>
          <PartyId>
            <Id>UK:UK001</Id>
            <Type>urn:eu:europa:ec:dgempl:eessi:ir</Type>
          </PartyId>
        </PartyIds>
        <Role>urn:eu:europa:ec:dgempl:eessi:ir:institution</Role>
      </ToParty>
    </PartyInfo>
  </MessagePackaging>
  <ReceiptHandling>
    <NotifyMessageProducer>true</NotifyMessageProducer>
    <NotifyMethod>
      <Type>FILE</Type>
      <Parameters>
        <Parameter name="location" value=".\messages\receipts\" />
      </Parameters>
    </NotifyMethod>
  </ReceiptHandling>
</PMode>