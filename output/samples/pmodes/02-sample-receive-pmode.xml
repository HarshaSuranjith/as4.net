<?xml version="1.0"?>
<PMode 
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
  xmlns:xsd="http://www.w3.org/2001/XMLSchema" 
  xmlns="eu:edelivery:as4:pmode">
  <Id>02-sample-pmode</Id>
  <Mep>OneWay</Mep>
  <MepBinding>Push</MepBinding>
  <Reliability>
    <DuplicateElimination>
      <IsEnabled>true</IsEnabled>
    </DuplicateElimination>
  </Reliability>
  <ReceiptHandling>
    <UseNNRFormat>false</UseNNRFormat>
    <ReplyPattern>Response</ReplyPattern>
    <SendingPMode>signed-response-pmode</SendingPMode>
  </ReceiptHandling>
  <ErrorHandling>
    <SendingPMode>signed-response-pmode</SendingPMode>
    <NotifyMessageConsumer>true</NotifyMessageConsumer>
    <NotifyMethod>
      <Type>FILE</Type>
      <Parameters>
        <Parameter name="location" value=".\messages\errors\" />
      </Parameters>
    </NotifyMethod>
    <UseSoapFault>false</UseSoapFault>
    <ReplyPattern>Response</ReplyPattern>
    <ResponseHttpCode>500</ResponseHttpCode>
  </ErrorHandling>
  <ExceptionHandling>
    <NotifyMessageConsumer>true</NotifyMessageConsumer>
    <NotifyMethod>
      <Type>FILE</Type>
      <Parameters>
        <Parameter name="location" value=".\messages\exceptions\" />
      </Parameters>
    </NotifyMethod>
  </ExceptionHandling>
  <Security>
    <SigningVerification>
      <Signature>Allowed</Signature>
    </SigningVerification>
    <Signing>
      <IsEnabled>false</IsEnabled>
    </Signing>
    <Decryption>
      <Encryption>Ignored</Encryption>
    </Decryption>
  </Security>
  <MessagePackaging>
    <PartyInfo>
      <FromParty>
        <PartyIds>
          <PartyId>
            <Id>org:eu:europa:as4:example:accesspoint:A</Id>
          </PartyId>
        </PartyIds>
        <Role>Sender</Role>
      </FromParty>
      <ToParty>
        <PartyIds>
          <PartyId>
            <Id>org:eu:europa:as4:example:accesspoint:B</Id>
          </PartyId>
        </PartyIds>
        <Role>Receiver</Role>
      </ToParty>
    </PartyInfo>
    <CollaborationInfo>
      <AgreementReference>
        <Name>http://agreements.europa.org/agreement</Name>
      </AgreementReference>
      <Action>eu:sample:02</Action>
      <Service>
        <Value>getting:started</Value>
        <Type>eu:europa:services</Type>
      </Service>
    </CollaborationInfo>
  </MessagePackaging>
  <Deliver>
    <IsEnabled>true</IsEnabled>
    <PayloadReferenceMethod >
      <Type>FILE</Type>
      <Parameters>
        <Parameter name="location" value=".\messages\in\"/>
      </Parameters>
    </PayloadReferenceMethod>
    <DeliverMethod>
      <Type>FILE</Type>
      <Parameters>
        <Parameter name="location" value=".\messages\in\"/>
      </Parameters>
    </DeliverMethod>
  </Deliver>
</PMode>